{% extends "base.html" %}
{% block title %}{{ chart_title }} | 2Beats{% endblock %}
{% block extra_head %}
<style>
  .chart-shell { max-width: 1000px; margin: 0 auto; }
  .chart-header { margin-bottom: 18px; }
  .chart-header h1 {
    margin: 0 0 6px;
    background: linear-gradient(135deg, #e5d9ff 0%, #c084fc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.02em;
    font-family: "Space Grotesk", "Pretendard", "Noto Sans KR", sans-serif;
  }
  .chart-header p { margin: 0; color: var(--muted); }
  .chart-table { width: 100%; border-collapse: collapse; }
  .chart-table th, .chart-table td {
    padding: 12px 10px;
    border-bottom: 1px solid var(--border);
    text-align: left;
    color: var(--text);
  }
  .chart-table th { color: var(--muted); font-weight: 600; }
  .chart-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
</style>
{% endblock %}

{% block content %}
<div class="chart-shell">
  <div class="card chart-header">
    <h1>{{ chart_title }}</h1>
    <p>{{ chart_desc|default:"월드컵 플레이 데이터를 차트로 확인하세요." }}</p>
    <div class="chart-actions">
      <a class="btn btn-secondary" href="{% url 'twobeats_worldcup:ranking' %}">랭킹으로</a>
      <a class="btn btn-primary" href="{% url 'twobeats_worldcup:play' %}">플레이하기</a>
    </div>
  </div>

  <div class="card">
    <table class="chart-table">
      <thead>
        <tr>
          <th>#</th>
          <th>제목</th>
          <th>아티스트</th>
          <th>승률</th>
        </tr>
      </thead>
      <tbody>
        {% for item in chart_data %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ item.music.music_title }}</td>
          <td class="muted">{{ item.music.music_singer }}</td>
          <td class="muted">{{ item.win_rate }}%</td>
        </tr>
        {% empty %}
        <tr><td colspan="4" class="muted">차트 데이터가 없습니다.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
