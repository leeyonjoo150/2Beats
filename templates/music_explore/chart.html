<!-- templates/music_explore/chart.html -->

{% extends 'music_explore/base.html' %}

{% block title %}{{ chart_title }} - TwoBeats{% endblock %}

{% block content %}
<div class="card">
    <h1 style="margin-bottom: 1.5rem;">üìä {{ chart_title }}</h1>
</div>

<div class="card">
    {% if musics %}
        <div style="display: grid; gap: 1rem;">
            {% for music in musics %}
                <div style="
                    padding: 1rem; 
                    border: 1px solid #eee; 
                    border-radius: 8px;
                    display: flex;
                    gap: 1rem;
                    align-items: center;
                    transition: all 0.3s;
                " onmouseover="this.style.backgroundColor='#f9f9f9'" 
                   onmouseout="this.style.backgroundColor='white'">
                    
                    <!-- ÏàúÏúÑ -->
                    <div style="
                        font-size: 2rem; 
                        font-weight: bold; 
                        color: #1db954;
                        min-width: 50px;
                        text-align: center;
                    ">
                        {{ forloop.counter }}
                    </div>
                    
                    <!-- Ïç∏ÎÑ§Ïùº (Ï∂îÍ∞Ä!) -->
                    <div style="min-width: 80px; max-width: 80px;">
                        {% if music.music_thumbnail %}
                            <img src="{{ music.music_thumbnail.url }}" 
                                 alt="{{ music.music_title }}"
                                 style="
                                     width: 80px; 
                                     height: 80px; 
                                     object-fit: cover; 
                                     border-radius: 8px;
                                 ">
                        {% else %}
                            <div style="
                                width: 80px; 
                                height: 80px; 
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                border-radius: 8px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 2rem;
                            ">
                                üéµ
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Ï†ïÎ≥¥ -->
                    <div style="flex: 1;">
                        <h3 style="margin-bottom: 0.5rem;">
                            <a href="{% url 'music_explore:detail' music.id %}" 
                               style="color: #333; text-decoration: none;">
                                {{ music.music_title }}
                            </a>
                        </h3>
                        <p style="color: #666; margin-bottom: 0.3rem;">{{ music.music_singer }}</p>
                        <p style="color: #999; font-size: 0.9rem;">
                            {{ music.get_music_type_display }} | 
                            Ïû¨ÏÉù {{ music.music_count }}Ìöå | 
                            Ï¢ãÏïÑÏöî {{ music.music_like_count }}
                            
                            <!-- ÌÉúÍ∑∏ ÌëúÏãú (Ï∂îÍ∞Ä!) -->
                            {% if music.tags.all %}
                                | 
                                {% for tag in music.tags.all %}
                                    <span style="color: #1db954;">#{{ tag.name }}</span>{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            {% endif %}
                        </p>
                    </div>
                    
                    <!-- Ïû¨ÏÉù Î≤ÑÌäº -->
                    <a href="{% url 'music_explore:detail' music.id %}" class="btn btn-primary">
                        Ïû¨ÏÉù ‚ñ∂
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p style="text-align: center; color: #999; padding: 2rem;">
            Ï∞®Ìä∏ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.
        </p>
    {% endif %}
</div>
{% endblock %}