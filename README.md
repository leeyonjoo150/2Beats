# 2Beats

> ìŒì•…ê³¼ ì˜ìƒì„ ì¦ê¸°ëŠ” ìƒˆë¡œìš´ ë°©ë²• - ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼

**ğŸ”— Links**
- **ì‚¬ì´íŠ¸**: [2beats.kro.kr](http://2beats.kro.kr)
- **ë¬¸ì„œ**: [Notion í”„ë¡œì íŠ¸ ë¬¸ì„œ](https://likelion.notion.site/2-2aa44860a4f48081b5b7e93e32b07836?source=copy_link)
- **ë™ì˜ìƒ** : [2beats ì˜ìƒ](https://youtu.be/BEMBQu82QSs)
- **ë°œí‘œ ìë£Œ** : [2beats PPT](https://www.miricanvas.com/v2/design2/v/8e005172-9f0a-4a1f-867f-3a42ebf412ba)

## ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°](#ë°ì´í„°ë² ì´ìŠ¤-êµ¬ì¡°)
- [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
- [ë°°í¬](#ë°°í¬)
- [í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
## í”„ë¡œì íŠ¸ ì†Œê°œ

2BeatsëŠ” ìŒì•…ê³¼ ì˜ìƒ ì½˜í…ì¸ ë¥¼ ì—…ë¡œë“œí•˜ê³  ìŠ¤íŠ¸ë¦¬ë°í•  ìˆ˜ ìˆëŠ” ë¯¸ë””ì–´ í”Œë«í¼ì…ë‹ˆë‹¤.
ì‚¬ìš©ìëŠ” ì¢‹ì•„í•˜ëŠ” ìŒì•…ê³¼ ì˜ìƒì„ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•˜ê³ , ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ê³µìœ í•˜ë©°,
ë…íŠ¹í•œ ìŒì•… ì›”ë“œì»µ ê²Œì„ì„ í†µí•´ ìì‹ ë§Œì˜ ì·¨í–¥ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

- **ê°„í¸í•œ ë¯¸ë””ì–´ ê´€ë¦¬**: ìŒì•…ê³¼ ì˜ìƒì„ í•˜ë‚˜ì˜ í”Œë«í¼ì—ì„œ í†µí•© ê´€ë¦¬
- **ê°œì¸í™”ëœ ê²½í—˜**: ë§ì¶¤í˜• í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ì™€ ì¬ìƒ ê¸°ë¡ ì¶”ì 
- **ì†Œì…œ ê¸°ëŠ¥**: ëŒ“ê¸€ê³¼ ì¢‹ì•„ìš”ë¥¼ í†µí•œ ì»¤ë®¤ë‹ˆí‹° í˜•ì„±
- **ì¬ë¯¸ìˆëŠ” ë°œê²¬**: ìŒì•… ì›”ë“œì»µì„ í†µí•œ ìƒˆë¡œìš´ ìŒì•… ë°œê²¬

## ì£¼ìš” ê¸°ëŠ¥

### 1. ë¯¸ë””ì–´ ê´€ë¦¬

- **ìŒì•… ìŠ¤íŠ¸ë¦¬ë°**
  - ë‹¤ì–‘í•œ ì¥ë¥´ì˜ ìŒì•… ì—…ë¡œë“œ ë° ì¬ìƒ
  - ì§€ì› ì¥ë¥´: ë°œë¼ë“œ, ëŒ„ìŠ¤, í™í•©, R&B, ë¡, íŒ, ì¸ë””, íŠ¸ë¡œíŠ¸, ì¬ì¦ˆ, OST
  - ê³ í’ˆì§ˆ ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°
  - ì¬ìƒ íšŸìˆ˜ ë° ì¸ê¸°ë„ ì¶”ì 

- **ì˜ìƒ ì½˜í…ì¸ **
  - ë®¤ì§ë¹„ë””ì˜¤, í¼í¬ë¨¼ìŠ¤, ë¼ì´ë¸Œ, ì»¤ë²„ ë“± ë‹¤ì–‘í•œ ì˜ìƒ íƒ€ì… ì§€ì›
  - ìë™ ì¸ë„¤ì¼ ìƒì„±
  - ì¡°íšŒìˆ˜ ë° ì¬ìƒ í†µê³„

### 2. í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì‹œìŠ¤í…œ

- **ìŒì•… í”Œë ˆì´ë¦¬ìŠ¤íŠ¸**
  - ê°œì¸ ë§ì¶¤í˜• ìŒì•… í´ë” ìƒì„±
  - ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ê³¡ ìˆœì„œ ì¡°ì •
  - í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ê³µìœ  ê¸°ëŠ¥

- **ì˜ìƒ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸**
  - ì˜ìƒ ì»¬ë ‰ì…˜ ê´€ë¦¬
  - ì‹œë¦¬ì¦ˆ ì¬ìƒ ì§€ì›

### 3. ì†Œì…œ ê¸°ëŠ¥

- **ì¢‹ì•„ìš” ì‹œìŠ¤í…œ**
  - ìŒì•… ë° ì˜ìƒì— ì¢‹ì•„ìš” í‘œì‹œ
  - ì¸ê¸° ì½˜í…ì¸  ë­í‚¹

- **ëŒ“ê¸€ ê¸°ëŠ¥**
  - ì‹¤ì‹œê°„ ëŒ“ê¸€ ì‘ì„± ë° ì¡°íšŒ
  - ì‚¬ìš©ì ê°„ ì˜ê²¬ ê³µìœ 

### 4. ìŒì•… ì›”ë“œì»µ

- **ì´ìƒí˜• ì›”ë“œì»µ ìŠ¤íƒ€ì¼ ê²Œì„**
  - 16ê°•, 32ê°• ë“± ë‹¤ì–‘í•œ ë¼ìš´ë“œ ì§€ì›
  - ì‹¤ì‹œê°„ ë­í‚¹ ì‹œìŠ¤í…œ
  - ê°œì¸ë³„ ê²Œì„ ê¸°ë¡ ì €ì¥
  - ë§ì¶¤í˜• ì›”ë“œì»µ ìƒì„± ë° ê³µìœ 

### 5. íƒœê·¸ ì‹œìŠ¤í…œ

- ë‹¤ì–‘í•œ íƒœê·¸ë¡œ ì½˜í…ì¸  ë¶„ë¥˜
- íƒœê·¸ ê¸°ë°˜ ê²€ìƒ‰ ë° í•„í„°ë§
- ê´€ë ¨ ì½˜í…ì¸  ì¶”ì²œ

### 6. ì¬ìƒ ê¸°ë¡

- ê°œì¸ë³„ ìŒì•…/ì˜ìƒ ì¬ìƒ ì´ë ¥ ì¶”ì 
- ìµœê·¼ ì¬ìƒ ëª©ë¡
- ì¬ìƒ íŒ¨í„´ ë¶„ì„

## ê¸°ìˆ  ìŠ¤íƒ

### Backend

- **Framework**: Django 5.2.8
- **API**: Django REST Framework 3.16.1
- **Database**: PostgreSQL 15
- **WSGI Server**: Gunicorn 21.2.0

### Storage

- **Media Storage**: AWS S3
- **Libraries**:
  - boto3 (AWS SDK)
  - django-storages

### Media Processing

- **Video Processing**: MoviePy 2.2.1
- **Image Processing**:
  - Pillow 11.3.0
  - OpenCV 4.12.0
- **Video I/O**: ImageIO & imageio-ffmpeg

### Infrastructure

- **Containerization**: Docker & Docker Compose
- **Web Server**: Nginx 1.25
- **Database**: PostgreSQL 15 with persistent volume

### Development

- **Python**: 3.x
- **Package Manager**: pip
- **Environment**: python-dotenv

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Client      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nginx (Port 80)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Django + Gunicorn (Port 8000)  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Apps:                   â”‚   â”‚
â”‚  â”‚  - twobeats_account      â”‚   â”‚
â”‚  â”‚  - twobeats_upload       â”‚   â”‚
â”‚  â”‚  - twobeats_music_exploreâ”‚   â”‚
â”‚  â”‚  - twobeats_video_exploreâ”‚   â”‚
â”‚  â”‚  - twobeats_worldcup     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL   â”‚   â”‚   AWS S3    â”‚
â”‚ (Port 5432)  â”‚   â”‚  (Media)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Python 3.9 ì´ìƒ
- PostgreSQL 15
- Docker & Docker Compose (ì„ íƒì‚¬í•­)
- AWS ê³„ì • (S3 ì‚¬ìš© ì‹œ)

### ë¡œì»¬ í™˜ê²½ ì„¤ì •

1. **ì €ì¥ì†Œ í´ë¡ **

```bash
git clone https://github.com/thlim008/2Beats.git
cd 2Beats
```

2. **ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”**

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

3. **ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
pip install -r requirements.txt
```

4. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**

`.env` íŒŒì¼ì„ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìƒì„±:

```env
# Database
DATABASE_URL=postgres://twobeats_user:twobeats_password@localhost:5432/twobeats_db

# Django
SECRET_KEY=your-secret-key-here
DEBUG=True

# AWS S3
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_STORAGE_BUCKET_NAME=your-bucket-name

# PostgreSQL (Docker)
POSTGRES_DB=twobeats_db
POSTGRES_USER=twobeats_user
POSTGRES_PASSWORD=twobeats_password
```

5. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜**

```bash
python manage.py makemigrations
python manage.py migrate
```

6. **íƒœê·¸ ë°ì´í„° ì´ˆê¸°í™”**

```bash
python manage.py init_tags
```

7. **ê´€ë¦¬ì ê³„ì • ìƒì„±**

```bash
python manage.py createsuperuser
```

8. **ì •ì  íŒŒì¼ ìˆ˜ì§‘**

```bash
python manage.py collectstatic
```

9. **ê°œë°œ ì„œë²„ ì‹¤í–‰**

```bash
python manage.py runserver
```

ì„œë²„ê°€ `http://localhost:8000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### Docker Composeë¡œ ì‹¤í–‰

```bash
docker-compose up -d
```

ì„œë¹„ìŠ¤:
- **Web**: http://localhost (Nginxë¥¼ í†µí•œ ì ‘ê·¼)
- **Database**: PostgreSQL (ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬)


ë¦¬ì†ŒìŠ¤:
- **PersistentVolumeClaim**: 10Gi ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ì†Œ
- **Database Deployment**: PostgreSQL 1 replica
- **Web Deployment**: Django 2 replicas
- **LoadBalancer Service**: ì™¸ë¶€ ì ‘ê·¼

## ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### ì£¼ìš” í…Œì´ë¸”

#### User (ì‚¬ìš©ì)
- UUID ê¸°ë°˜ ì‚¬ìš©ì ê´€ë¦¬
- í”„ë¡œí•„ ì´ë¯¸ì§€, ì „í™”ë²ˆí˜¸ í™•ì¥ í•„ë“œ
- Django AbstractUser ìƒì†

#### Music (ìŒì•…)
- ì œëª©, ê°€ìˆ˜, ì¥ë¥´, íƒœê·¸
- ì¬ìƒ íšŸìˆ˜, ì¢‹ì•„ìš” ìˆ˜
- AWS S3 ìŒì› íŒŒì¼ ì €ì¥
- ìë™ ì¸ë„¤ì¼ ìƒì„±

#### Video (ì˜ìƒ)
- ì œëª©, ì•„í‹°ìŠ¤íŠ¸, íƒ€ì…
- ì¡°íšŒìˆ˜, ì¬ìƒ ìˆ˜, ì¢‹ì•„ìš” ìˆ˜
- ì˜ìƒ ì‹œê°„ (ì´ˆ)
- AWS S3 ì˜ìƒ íŒŒì¼ ì €ì¥

#### Playlist (í”Œë ˆì´ë¦¬ìŠ¤íŠ¸)
- MusicPlaylist: ìŒì•… ì „ìš©
- VideoPlaylist: ì˜ìƒ ì „ìš©
- ì‚¬ìš©ìë³„ í´ë” ê´€ë¦¬

#### WorldCup (ì›”ë“œì»µ)
- CustomWorldCup: ë§ì¶¤í˜• ì›”ë“œì»µ ìƒì„±
- WorldCupGame: ê²Œì„ ì„¸ì…˜ ê¸°ë¡
- WorldCupResult: ê²Œì„ ê²°ê³¼ ë° ë­í‚¹

#### History (ì¬ìƒ ê¸°ë¡)
- MusicHistory: ìŒì•… ì¬ìƒ ì´ë ¥
- VideoHistory: ì˜ìƒ ì¬ìƒ ì´ë ¥

#### Social (ì†Œì…œ)
- MusicLike / VideoLike: ì¢‹ì•„ìš”
- MusicComment / VideoComment: ëŒ“ê¸€

## API ë¬¸ì„œ

### ì¸ì¦

Django ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ ì‚¬ìš©

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

```
# ê³„ì •
GET    /account/login/          # ë¡œê·¸ì¸ í˜ì´ì§€
POST   /account/login/          # ë¡œê·¸ì¸ ì²˜ë¦¬
GET    /account/register/       # íšŒì›ê°€ì… í˜ì´ì§€
POST   /account/register/       # íšŒì›ê°€ì… ì²˜ë¦¬
POST   /account/logout/         # ë¡œê·¸ì•„ì›ƒ

# ìŒì•…
GET    /music/                  # ìŒì•… ëª©ë¡
GET    /music/<id>/             # ìŒì•… ìƒì„¸
POST   /music/upload/           # ìŒì•… ì—…ë¡œë“œ
POST   /music/<id>/like/        # ì¢‹ì•„ìš” í† ê¸€
POST   /music/<id>/comment/     # ëŒ“ê¸€ ì‘ì„±

# ì˜ìƒ
GET    /video/                  # ì˜ìƒ ëª©ë¡
GET    /video/<id>/             # ì˜ìƒ ìƒì„¸
POST   /video/upload/           # ì˜ìƒ ì—…ë¡œë“œ
POST   /video/<id>/like/        # ì¢‹ì•„ìš” í† ê¸€
POST   /video/<id>/comment/     # ëŒ“ê¸€ ì‘ì„±

# í”Œë ˆì´ë¦¬ìŠ¤íŠ¸
GET    /playlist/music/         # ìŒì•… í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ëª©ë¡
POST   /playlist/music/         # í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìƒì„±
POST   /playlist/music/<id>/add/# ê³¡ ì¶”ê°€

# ì›”ë“œì»µ
GET    /worldcup/               # ì›”ë“œì»µ ëª©ë¡
POST   /worldcup/custom/        # ì»¤ìŠ¤í…€ ì›”ë“œì»µ ìƒì„±
GET    /worldcup/play/<code>/   # ì›”ë“œì»µ ê²Œì„
POST   /worldcup/result/        # ê²°ê³¼ ì œì¶œ
GET    /worldcup/ranking/       # ë­í‚¹ ì¡°íšŒ
```

## ë°°í¬

### í™˜ê²½ ì„¤ì •

í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë‹¤ìŒ ì„¤ì •ì„ ë³€ê²½í•˜ì„¸ìš”:

**config/settings.py**
```python
DEBUG = False
ALLOWED_HOSTS = ['your-domain.com', 'your-ip']
SECRET_KEY = 'production-secret-key'
```

### Docker ì´ë¯¸ì§€ ë¹Œë“œ

```bash
docker build -t your-dockerhub-username/2beats:v1.3 .
docker push your-dockerhub-username/2beats:v1.3
```


## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
2Beats/
â”œâ”€â”€ apps/                          # Django ì•±ë“¤
â”‚   â”œâ”€â”€ twobeats_account/         # ì‚¬ìš©ì ê´€ë¦¬, í”Œë ˆì´ë¦¬ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ twobeats_upload/          # ë¯¸ë””ì–´ ì—…ë¡œë“œ
â”‚   â”œâ”€â”€ twobeats_music_explore/   # ìŒì•… íƒìƒ‰ ë° ì†Œì…œ
â”‚   â”œâ”€â”€ twobeats_video_explore/   # ì˜ìƒ íƒìƒ‰ ë° ì†Œì…œ
â”‚   â””â”€â”€ twobeats_worldcup/        # ìŒì•… ì›”ë“œì»µ
â”œâ”€â”€ config/                        # Django ì„¤ì •
â”‚   â”œâ”€â”€ settings.py               # í”„ë¡œì íŠ¸ ì„¤ì •
â”‚   â”œâ”€â”€ urls.py                   # URL ë¼ìš°íŒ…
â”‚   â””â”€â”€ wsgi.py                   # WSGI ì„¤ì •
â”œâ”€â”€ static/                        # ì •ì  íŒŒì¼
â”œâ”€â”€ templates/                     # HTML í…œí”Œë¦¿
â”œâ”€â”€ media/                         # ì—…ë¡œë“œëœ ë¯¸ë””ì–´ (ë¡œì»¬ ê°œë°œìš©)
â”œâ”€â”€ nginx/                         # Nginx ì„¤ì •
â”‚   â””â”€â”€ nginx.conf
â”œâ”€â”€ .env                          # í™˜ê²½ë³€ìˆ˜ (gitignore)
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml            # Docker Compose ì„¤ì •
â”œâ”€â”€ Dockerfile                    # Docker ì´ë¯¸ì§€ ì •ì˜
â”œâ”€â”€ 2beats-k3s.yaml              # Kubernetes ë°°í¬ ì„¤ì •
â”œâ”€â”€ requirements.txt              # Python ì˜ì¡´ì„±
â”œâ”€â”€ manage.py                     # Django ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ README.md                     # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ê¸°ì—¬í•˜ê¸°

í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´:

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.

---

**2Beats** - ìŒì•…ê³¼ ì˜ìƒì„ ì¦ê¸°ëŠ” ìƒˆë¡œìš´ ë°©ë²•
